{"version":3,"sources":["models/enums/viewerMode.ts","utils/tinder.util.ts","store/app.duck.ts","store/index.ts","hooks/useLogin.ts","service/http.service.ts","views/components/sidebar/Sidebar.tsx","views/components/viewer/Viewer.tsx","views/components/profile/Profile.tsx","views/pages/home/Home.tsx","views/pages/likes/Likes.tsx","views/pages/login/Login.tsx","views/pages/share/Share.tsx","Router.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["ViewerMode","convertTinderProfile","data","interests","medias","user","photos","map","it","media_type","type","url","processedVideos","thumb","experiment_info","user_interests","uInterests","push","selected_interests","name","instagram","image","id","_id","distance","distance_mi","toFixed","sNumber","s_number","bio","gender","active","recently_active","birthDate","Date","getFullYear","parseInt","birth_date","substr","initialState","logged","likesRemaining","ageFilterMax","ageFilterMin","pictures","profiles","stats","showing","duplicates","viewer","open","mode","VIEW","likes","dislikes","appActions","createActions","INIT","likes_remaining","age_filter_max","age_filter_min","PUSH","OPEN_VIEWER","CLOSE_VIEWER","CHANGE_VIEWER_MODE","RESET_VIEWER","PUSH_LIKE","PUSH_DISLIKE","reducer","handleActions","init","toString","state","action","payload","exists","newItems","filter","indexOf","length","openViewer","closeViewer","changeViewerMode","resetViewer","pushLike","pushDislike","reducers","combineReducers","appReducer","store","createStore","compose","window","__REDUX_DEVTOOLS_EXTENSION__","f","useLogin","history","useHistory","logout","location","pathname","localStorage","removeItem","encodeURIComponent","http","axios","create","baseURL","hostname","transformRequest","defaults","headers","getItem","Sidebar","useSelector","dispatch","useDispatch","className","to","icon","faGripVertical","faHeart","href","onClick","e","preventDefault","ZOOM","clsx","zoomActive","faSearchPlus","Viewer","profile","visible","onClose","useState","photoIndex","setPhotoIndex","zoom","setZoom","translate","setTranslate","movePhoto","useRef","initialMouse","x","y","tX","tY","useEffect","resetZoomState","preview","document","querySelector","addEventListener","onScroll","removeEventListener","current","deltaY","p","changePhoto","index","onMouseMove","posX","pageX","posY","pageY","onMouseUp","target","tagName","stopPropagation","faChevronLeft","autoPlay","loop","controls","src","alt","style","transform","onMouseDown","t","faChevronRight","faTimes","faShare","media","bind","faPlayCircle","Profile","liked","disliked","login","setVisible","like","a","post","s","status","dislike","idx","cover","getCover","onShare","Home","loading","loadProfiles","list","scrollHeight","scrollTop","clientHeight","get","then","res","results","result","faCircleNotch","spin","Likes","setLikes","setLoading","loadLikes","Login","inputRef","redirect","redirectTo","URLSearchParams","search","doLogin","value","setItem","alert","ref","faArrowRight","Share","userId","match","params","setProfile","load","response","Router","param","token","path","component","exact","App","basename","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.f8adc0e9.chunk.js","sourcesContent":["export enum ViewerMode {\n  VIEW = 'VIEW',\n  ZOOM = 'ZOOM',\n}","export const convertTinderProfile = (data: any) => {\n  const interests = [];\n  \n  const medias = data.user.photos.map((it: any) => (\n    it.media_type === 'video' ? { type: 'video', url: it.processedVideos[0].url, thumb: it.url } : { type: 'image', url: it.url }\n  ));\n\n  if (data.experiment_info || data.user.user_interests) {\n    const uInterests = data.experiment_info ? data.experiment_info.user_interests : data.user.user_interests;\n    interests.push(...uInterests.selected_interests.map((it: any) => it.name));\n  }\n\n  if ((data.instagram && data.instagram.photos) || (data.user.instagram && data.user.instagram.photos)) {\n    const photos = data.instagram ? data.instagram.photos : data.user.instagram.photos;\n    medias.push(...photos.map((it: any) => ({ type: 'image', url: it.image })));\n  }\n\n  return {\n    id: data.user._id,\n    distance: (data.distance_mi || data.user.distance_mi * 1.609).toFixed(1),\n    sNumber: data.s_number || data.user.s_number,\n    bio: data.user.bio,\n    gender: data.user.gender,\n    name: data.user.name,\n    active: data.user.recently_active || false,\n    birthDate: new Date().getFullYear() - parseInt(data.user.birth_date.substr(0, 4), 10),\n    interests,\n    medias,\n  };\n};\n","import { Action, createActions, handleActions } from \"redux-actions\";\nimport { Profile } from \"../models/dto/profile\";\nimport { Stats } from \"../models/dto/stats\";\nimport { User } from \"../models/dto/user\";\nimport { Viewer } from \"../models/dto/viewer\";\nimport { ViewerMode } from \"../models/enums/viewerMode\";\nimport { convertTinderProfile } from \"../utils/tinder.util\";\n\nexport interface AppState {\n  logged: boolean;\n  user: User;\n  profiles: Profile[];\n  stats: Stats;\n  viewer: Viewer;\n  likes: string[];\n  dislikes: string[];\n}\n\nconst initialState: AppState = {\n  logged: false,\n  user: {\n    likesRemaining: 0,\n    ageFilterMax: 0,\n    ageFilterMin: 0,\n    pictures: [],\n    name: '',\n  },\n  profiles: [],\n  stats: {\n    showing: 0,\n    duplicates: 0,\n  },\n  viewer: {\n    open: false,\n    mode: ViewerMode.VIEW,\n  },\n  likes: [],\n  dislikes: [],\n};\n\nexport const appActions = createActions({\n  INIT: (data: any) => ({\n    likesRemaining: data.likes.likes_remaining,\n    ageFilterMax: data.user.age_filter_max,\n    ageFilterMin: data.user.age_filter_min,\n    pictures: data.user.photos.map((it: any) => it.url),\n    name: data.user.name,\n  }),\n  PUSH: (data: any[]) => data.map(convertTinderProfile),\n  OPEN_VIEWER: () => null,\n  CLOSE_VIEWER: () => null,\n  CHANGE_VIEWER_MODE: (mode: ViewerMode) => mode,\n  RESET_VIEWER: () => null,\n  PUSH_LIKE: (id: string) => id,\n  PUSH_DISLIKE: (id: string) => id,\n});\n\nexport const reducer = handleActions<AppState>(\n  {\n    [appActions.init.toString()]: (state: AppState, action: Action<any>) => ({ ...state, user: action.payload, logged: true }),\n    [appActions.push.toString()]: (state: AppState, action: Action<any>) => {\n      const exists = state.profiles.map(it => it.id);\n      const newItems = action.payload.filter((it: Profile) => exists.indexOf(it.id) === -1);\n\n      return {\n        ...state,\n        profiles: [\n          ...state.profiles,\n          ...newItems,\n        ],\n        stats: {\n          showing: state.profiles.length + newItems.length,\n          duplicates: state.stats.duplicates + (action.payload.length - newItems.length),\n        },\n      };\n    },\n    [appActions.openViewer.toString()]: (state: AppState) => ({ ...state, viewer: { ...state.viewer, open: true } }),\n    [appActions.closeViewer.toString()]: (state: AppState) => ({ ...state, viewer: { open: false, mode: ViewerMode.VIEW } }),\n    [appActions.changeViewerMode.toString()]: (state: AppState, action: Action<any>) => ({ ...state, viewer: { ...state.viewer, mode: action.payload } }),\n    [appActions.resetViewer.toString()]: (state: AppState) => ({ ...state, viewer: { ...state.viewer, mode: ViewerMode.VIEW } }),\n    [appActions.pushLike.toString()]: (state: AppState, action: Action<any>) => ({ ...state, likes: [...state.likes, action.payload] }),\n    [appActions.pushDislike.toString()]: (state: AppState, action: Action<any>) => ({ ...state, dislikes: [...state.dislikes, action.payload] }),\n  },\n  initialState\n);\n","// @ts-nocheck\nimport { combineReducers, compose, createStore, Reducer } from \"redux\";\nimport { AppState, reducer as appReducer } from \"./app.duck\";\n\nexport interface Reducers {\n  appReducer: AppState;\n}\n\nexport const reducers: Reducer<Reducers> = combineReducers({ appReducer });\n\nexport const store = createStore(reducers, {},\n  compose(\n    window.__REDUX_DEVTOOLS_EXTENSION__ ? window.__REDUX_DEVTOOLS_EXTENSION__() : f => f,\n  )\n);","import { useHistory } from \"react-router-dom\";\n\nconst useLogin = () => {\n    const history = useHistory();\n\n    const logout = () => {\n        if (history.location.pathname !== '/login') {\n            window.localStorage.removeItem('tashAppToken');\n            history.push(`/login?redirectTo=${encodeURIComponent(history.location.pathname)}`);\n        }\n    };\n\n    return { logout };\n};\n\nexport default useLogin;","// @ts-nocheck\nimport axios from \"axios\";\n\nexport const http = axios.create({\n  baseURL: `http://${window.location.hostname === 'localhost' ? 'localhost' : 'cast.celiorodrigues.com'}:6382`,\n  transformRequest: [\n    ...axios.defaults.transformRequest,\n    (data, headers) => {\n      if (!headers['tash-app-token'] && window.localStorage.getItem('tashAppToken')) {\n        headers['tash-app-token'] = window.localStorage.getItem('tashAppToken');\n      }\n      return data;\n    },\n  ]\n});\n","import { faGripVertical, faHeart, faSearchPlus } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport clsx from 'clsx';\nimport { FC } from \"react\";\nimport { useDispatch, useSelector } from 'react-redux';\nimport { NavLink } from 'react-router-dom';\nimport { Viewer } from '../../../models/dto/viewer';\nimport { ViewerMode } from '../../../models/enums/viewerMode';\nimport { Reducers } from '../../../store';\nimport { appActions } from '../../../store/app.duck';\n\nimport './Sidebar.css';\n\nconst Sidebar: FC = () => {\n  const viewer = useSelector<Reducers, Viewer>(state => state.appReducer.viewer);\n  const dispatch = useDispatch();\n\n  const zoomMode = (e: any) => {\n    e.preventDefault();\n    dispatch(appActions.changeViewerMode(viewer.mode === ViewerMode.ZOOM ? ViewerMode.VIEW : ViewerMode.ZOOM));\n  };\n\n  return (\n    <div className=\"sidebar\">\n      <ul>\n        <li>\n          <NavLink to=\"/home\"><FontAwesomeIcon icon={faGripVertical} /></NavLink>\n        </li>\n        <li>\n          <NavLink to=\"/likes\"><FontAwesomeIcon icon={faHeart} /></NavLink>\n        </li>\n        {viewer.open && (\n          <li>\n            <a href=\"#/\" onClick={zoomMode} className={clsx({ zoomActive: viewer.mode === ViewerMode.ZOOM })}>\n              <FontAwesomeIcon icon={faSearchPlus} />\n            </a>\n          </li>\n        )}\n      </ul>\n    </div>\n  );\n};\n\nexport default Sidebar;","import { faChevronLeft, faChevronRight, faPlayCircle, faShare, faTimes } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport clsx from 'clsx';\nimport React, { FC, useEffect, useRef, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { Media } from '../../../models/dto/media';\nimport { Profile } from '../../../models/dto/profile';\nimport { Viewer as ViewerDTO } from '../../../models/dto/viewer';\nimport { ViewerMode } from '../../../models/enums/viewerMode';\nimport { Reducers } from '../../../store';\nimport { appActions } from '../../../store/app.duck';\nimport './Viewer.css';\n\nexport interface ViewerProps {\n  profile: Profile;\n  visible: boolean;\n  onClose: () => void;\n  onShare: () => void;\n}\n\nconst Viewer: FC<ViewerProps> = ({ profile, visible, onClose }) => {\n  const viewer = useSelector<Reducers, ViewerDTO>(state => state.appReducer.viewer);\n\n  const [photoIndex, setPhotoIndex] = useState(0);\n  const dispatch = useDispatch();\n\n  const [zoom, setZoom] = useState(1);\n  const [translate, setTranslate] = useState([0, 0]);\n\n  const movePhoto = useRef(false);\n  const initialMouse = useRef({ x: 0, y: 0, tX: 0, tY: 0 });\n\n  useEffect(\n    () => {\n      dispatch(appActions.resetViewer());\n      resetZoomState();\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [photoIndex]\n  );\n\n  useEffect(\n    () => {\n      let preview: HTMLDivElement | null;\n\n      if (viewer.mode === ViewerMode.ZOOM) {\n        if (visible) {\n          preview = document.querySelector<HTMLDivElement>('.viewer .preview');\n          if (preview) {\n            preview.addEventListener('mousewheel', onScroll, false);\n          }\n        }\n      } else if (viewer.mode === ViewerMode.VIEW) {\n        resetZoomState();\n      }\n\n      return () => {\n        if (preview) {\n          preview.removeEventListener('mousewheel', onScroll);\n        }\n      }\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [viewer.mode]\n  );\n\n  const resetZoomState = () => {\n    setZoom(1);\n    setTranslate([0, 0]);\n    movePhoto.current = false;\n    initialMouse.current = { x: 0, y: 0, tX: 0, tY: 0 };\n  };\n\n  const onScroll = (e: any) => {\n    if (e.deltaY > 0) {\n      setZoom(p => p > 1 ? p - 0.1 : p);\n    } else {\n      setZoom(p => p + 0.1);\n    }\n  };\n\n  const changePhoto = (index: number) => setPhotoIndex(index);\n\n  const prev = (e: any) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setPhotoIndex(p => photoIndex === 0 ? profile.medias.length - 1 : p - 1);\n  };\n\n  const next = (e: any) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setPhotoIndex(p => photoIndex === profile.medias.length - 1 ? 0 : p + 1);\n  };\n\n  const photoMouseDown = (e: any) => {\n    e.preventDefault();\n    const preview = document.querySelector('.viewer .preview');\n    if (viewer.mode === ViewerMode.ZOOM && preview) {\n      movePhoto.current = true;\n      setTranslate(t => {\n        initialMouse.current = { x: e.pageX - 70, y: e.pageY, tX: t[0], tY: t[1] };\n        return t;\n      });\n    }\n  };\n\n  const photoMouseMove = (e: any) => {\n    if (movePhoto.current) {    \n      const posX = e.pageX - 70;\n      const posY = e.pageY;\n\n      const x = initialMouse.current.x - posX;\n      const y = initialMouse.current.y - posY;\n\n      const data = [initialMouse.current.tX + x, initialMouse.current.tY + y];\n\n      setTranslate(data);\n    }\n  };\n\n  const photoMouseUp = (e: any) => {\n    e.preventDefault();\n    if (movePhoto.current) {\n      movePhoto.current = false;\n    } else if (e.target.tagName !== 'IMG') {\n      onClose();\n    }\n  };\n\n  const getThumb = (media: Media, index: number) => {\n    const url = media.thumb || media.url;\n    return (\n      <div key={url} className={clsx({ active: index === photoIndex })} onClick={changePhoto.bind(null, index)}>\n        <img src={url} alt=\"\" />\n        {media.type === 'video' && (\n          <span className=\"video\">\n            <FontAwesomeIcon icon={faPlayCircle} className=\"video-icon\" />\n          </span>\n        )}\n      </div>\n    );\n  };\n\n  return visible ? (\n    <div className=\"viewer\">\n      <div\n        className=\"preview\"\n        onMouseMove={photoMouseMove}\n        onMouseUp={photoMouseUp}\n      >\n        <button className=\"prev\" onMouseUp={prev}>\n          <FontAwesomeIcon icon={faChevronLeft} />\n        </button>\n        {profile.medias[photoIndex].type === 'video' ? (\n          <video autoPlay loop controls key={profile.medias[photoIndex].url}>\n            <source type=\"video/mp4\" src={profile.medias[photoIndex].url} />\n          </video>\n        ) : (\n          <img\n            alt=\"\"\n            src={profile.medias[photoIndex].url}\n            style={{ transform: `scale(${zoom}) translate(${translate[0]}px, ${translate[1]}px)` }}\n            onMouseDown={photoMouseDown}\n          />\n        )}\n        <button className=\"next\" onMouseUp={next}>\n          <FontAwesomeIcon icon={faChevronRight} />\n        </button>\n      </div>\n      <div className=\"info\">\n        <button className=\"close\" onClick={onClose}>\n          <FontAwesomeIcon icon={faTimes} />\n        </button>\n        <Link className=\"share\" to={`/share/${profile.id}`} target=\"_blank\">\n          <FontAwesomeIcon icon={faShare} />\n        </Link>\n        <h1>{profile.name}, {profile.birthDate}</h1>\n        <span className=\"distance\">{profile.distance} km</span>\n        <p>{profile.bio}</p>\n        <div className=\"gallery\">\n          {profile.medias.map(getThumb)}\n        </div>\n      </div>\n    </div>\n  ) : null;\n};\n\nexport default Viewer;","import { faHeart, faTimes } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { FC, useState } from \"react\";\nimport { useDispatch } from 'react-redux';\nimport useLogin from '../../../hooks/useLogin';\nimport { Profile as ProfileDTO } from \"../../../models/dto/profile\";\nimport { http } from '../../../service/http.service';\nimport { appActions } from '../../../store/app.duck';\nimport Viewer from '../viewer/Viewer';\n\nimport './Profile.css';\n\ninterface ProfileProps {\n  profile: ProfileDTO;\n  liked: boolean;\n  disliked: boolean;\n}\n\nconst Profile: FC<ProfileProps> = ({ profile, liked, disliked }) => {\n  const dispatch = useDispatch();\n  const login = useLogin();\n\n  const [visible, setVisible] = useState(false);\n\n  const open = () => {\n    setVisible(true);\n    dispatch(appActions.openViewer());\n  };\n\n  const close = () => {\n    setVisible(false);\n    dispatch(appActions.closeViewer());\n  };\n\n  const share = () => window.open(`/share/${profile.id}`, '_blank');\n\n  const like = async (e: any) => {\n    e.stopPropagation();\n    try {\n      const result = await http.post('/like', { id: profile.id, s: profile.sNumber });\n      if (result.status === 200) {\n        dispatch(appActions.pushLike(profile.id));\n      }\n    } catch (e) {\n      login.logout();\n    }\n  };\n\n  const dislike = async (e: any) => {\n    e.stopPropagation();\n    try {\n      const result = await http.post('/dislike', { id: profile.id, s: profile.sNumber });\n      if (result.status === 200) {\n        dispatch(appActions.pushDislike(profile.id));\n      }\n    } catch (e) {\n      login.logout();\n    }\n  };\n\n  const getCover = () => {\n    let idx = 0;\n    let cover = profile.medias[idx];\n    while (cover.type === 'video') {\n      idx++;\n      cover = profile.medias[idx];\n    }\n    return cover.url;\n  };\n\n  return (\n    <>\n      <div className=\"profile\" onClick={open}>\n        <img src={getCover()} alt=\"\" />\n        <div className=\"info\">\n          <h2>{profile.name}, {profile.birthDate}</h2>\n          <div className=\"actions\">\n            {!liked && (\n              <button className=\"dislike\" onClick={dislike}>\n                <FontAwesomeIcon icon={faTimes} />\n              </button>\n            )}\n            {!disliked && (\n              <button className=\"like\" onClick={like}>\n                <FontAwesomeIcon icon={faHeart} />\n              </button>\n            )}\n          </div>\n        </div>\n      </div>\n      <Viewer profile={profile} visible={visible} onClose={close} onShare={share} />\n    </>\n  );\n};\n\nexport default Profile;","import { faCircleNotch } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { FC, useEffect, useRef } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport useLogin from '../../../hooks/useLogin';\nimport { http } from \"../../../service/http.service\";\nimport { Reducers } from \"../../../store\";\nimport { appActions, AppState } from \"../../../store/app.duck\";\nimport { default as ProfileView } from \"../../components/profile/Profile\";\n\nimport './Home.css';\n\nconst Home: FC = () => {\n  const { profiles, likes, dislikes } = useSelector<Reducers, AppState>(state => state.appReducer);\n  const dispatch = useDispatch();\n  const login = useLogin();\n\n  const loading = useRef(true);\n\n  useEffect(\n    () => {\n      loadProfiles();\n\n      const list = document.querySelector<HTMLDivElement>('.profiles');\n\n      if (list){\n        list.addEventListener('scroll', onScroll, false);\n      }\n\n      return () => {\n        if (list) {\n          list.removeEventListener('scroll', onScroll);\n        }\n      };\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    []\n  );\n\n  const onScroll = (e: any) => {\n    if (!loading.current && (e.target.scrollHeight - e.target.scrollTop) < (e.target.clientHeight + 40)) {\n      loadProfiles();\n    }\n  };\n\n  const loadProfiles = async () => {\n    try {\n      loading.current = true;\n      const result = await http.get('/profiles').then(res => res.data.results);\n      dispatch(appActions.push(result));\n    } catch (e) {\n      login.logout();\n    }\n    loading.current = false;\n  };\n\n  const isLoading = () => loading.current;\n\n  return (\n    <div className=\"profiles\">\n      {profiles.map(it => (\n        <ProfileView\n          key={it.id}\n          profile={it}\n          liked={likes.indexOf(it.id) !== -1}\n          disliked={dislikes.indexOf(it.id) !== -1}\n        />\n      ))}\n      {isLoading() && (<div className=\"loading\"><FontAwesomeIcon icon={faCircleNotch} spin={true} /></div>)}\n    </div>\n  );\n};\n\nexport default Home;","import { faCircleNotch } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport React, { FC, useEffect, useState } from 'react';\nimport useLogin from '../../../hooks/useLogin';\nimport { http } from '../../../service/http.service';\n\nimport './Likes.css';\n\nconst Likes: FC = () => {\n  const [likes, setLikes] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const login = useLogin();\n\n  useEffect(\n    () => {\n      loadLikes();\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    []\n  );\n\n  const loadLikes = async () => {\n    try {\n      setLoading(true);\n      const result = await http.get('/likes').then(res => res.data.results);\n      setLikes(result.map((it: any) => it.user.photos[0].url));\n    } catch (e) {\n      login.logout();\n    }\n    setLoading(false);\n  };\n\n  return (\n    <div className=\"likes\">\n      {likes.map(url => (\n        <div className=\"like\" key={url}>\n          <img src={url} alt=\"\" />\n        </div>\n      ))}\n      {loading && (<div className=\"loading\"><FontAwesomeIcon icon={faCircleNotch} spin={true} /></div>)}\n    </div>\n  );\n};\n\nexport default Likes;","import { faArrowRight } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport React, { FC, useRef } from \"react\";\nimport { useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router';\nimport { http } from '../../../service/http.service';\nimport { appActions } from '../../../store/app.duck';\n\nimport './Login.css';\n\nconst Login: FC = () => {\n  const inputRef = useRef<HTMLInputElement>(null);\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  const redirect = () => {\n    const param = new URLSearchParams(history.location.search);\n    const redirectTo = param.get(\"redirectTo\");\n    history.push(redirectTo || '/home');\n  };\n\n  const doLogin = async () => {\n    if (inputRef.current && inputRef.current.value) {\n      try {\n        const result = await http.get('/me', {\n          headers: { 'tash-app-token': inputRef.current.value }\n        });\n        window.localStorage.setItem('tashAppToken', inputRef.current.value);\n        dispatch(appActions.init(result.data));\n        redirect();\n      } catch (e) {\n        alert('Invalid');\n      }\n    }\n  };\n\n  return (\n    <div className=\"login-page\">\n      <div className=\"box\">\n        <h1>TASH</h1>\n        <div className=\"auth\">\n          <input ref={inputRef} name=\"token\" />\n          <button onClick={doLogin}>\n            <FontAwesomeIcon icon={faArrowRight} />\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;","import React, { FC, useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport useLogin from \"../../../hooks/useLogin\";\nimport { Profile } from \"../../../models/dto/profile\";\nimport { http } from \"../../../service/http.service\";\nimport { convertTinderProfile } from \"../../../utils/tinder.util\";\nimport Viewer from \"../../components/viewer/Viewer\";\n\nconst Share: FC<any> = ({ match: { params: { userId } } }) => {\n    const [profile, setProfile] = useState<Profile | null>(null);\n    const history = useHistory();\n    const login = useLogin();\n\n    useEffect(\n        () => {\n            load();\n        },\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        []\n    );\n\n    const load = async () => {\n        try {\n        const result = await http.get(`/share/${userId}`).then(res => res.data.results);\n        setProfile(convertTinderProfile({ user: result }));\n        } catch (e) {\n            // @ts-ignore\n            if (e.response.status === 403) {\n                login.logout();\n            } else {\n                history.push('/home');\n            }\n        }\n    };\n\n    const close = () => history.push('/home');\n    const share = () => profile && window.open(`/share/${profile.id}`, '_blank');\n\n    return profile ? <Viewer profile={profile} visible={true} onClose={close} onShare={share} /> : <></>;\n};\n\nexport default Share;","import { FC, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Route, Switch, useHistory } from \"react-router-dom\";\nimport useLogin from \"./hooks/useLogin\";\nimport { http } from \"./service/http.service\";\nimport { Reducers } from \"./store\";\nimport { appActions } from \"./store/app.duck\";\nimport Sidebar from \"./views/components/sidebar/Sidebar\";\nimport Home from \"./views/pages/home/Home\";\nimport Likes from \"./views/pages/likes/Likes\";\nimport Login from \"./views/pages/login/Login\";\nimport Share from \"./views/pages/share/Share\";\n\nconst Router: FC = () => {\n  const logged = useSelector<Reducers, boolean>(state => state.appReducer.logged);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const login = useLogin();\n\n  useEffect(\n    () => {\n      init();\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    []\n  );\n\n  const init = async () => {\n    const param = new URLSearchParams(history.location.search);\n    const token = param.get(\"token\");\n\n    if (token) {\n      window.localStorage.setItem('tashAppToken', token);\n    }\n\n    if (window.localStorage.getItem('tashAppToken')) {\n      try {\n        const result = await http.get('/me');\n        dispatch(appActions.init(result.data));\n\n        if (history.location.pathname === '/') {\n          history.push('/home');\n        }\n      } catch (e) {\n        login.logout();\n      }\n    } else {\n      login.logout();\n    }\n  };\n\n  return (\n    <>\n      {logged && <Sidebar />}\n      <div className=\"page\">\n        <Switch>\n          <Route path=\"/login\" component={Login} exact={true} />\n          <Route path=\"/home\" component={Home} exact={true} />\n          <Route path=\"/likes\" component={Likes} exact={true} />\n          <Route path=\"/share/:userId\" component={Share} exact={true} />\n        </Switch>\n      </div>\n    </>\n  );\n};\n\nexport default Router;","import React, { FC } from 'react';\nimport { Provider } from 'react-redux';\nimport { store } from './store';\nimport Router from './Router';\nimport { BrowserRouter } from 'react-router-dom';\n\nimport './App.css';\n\nconst App: FC = () => {\n  return (\n    <div className=\"tash-app\">\n      <Provider store={store}>\n        <BrowserRouter basename=\"/tash_v2\">\n          <Router />\n        </BrowserRouter>\n      </Provider>\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}