{"version":3,"sources":["models/enums/viewerMode.ts","store/app.duck.ts","store/index.ts","service/http.service.ts","utils/login.util.ts","views/components/sidebar/Sidebar.tsx","views/components/viewer/Viewer.tsx","views/components/profile/Profile.tsx","views/pages/home/Home.tsx","views/pages/likes/Likes.tsx","views/pages/login/Login.tsx","Router.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["ViewerMode","initialState","logged","user","likesRemaining","ageFilterMax","ageFilterMin","pictures","name","profiles","stats","showing","duplicates","viewer","open","mode","VIEW","likes","dislikes","appActions","createActions","INIT","data","likes_remaining","age_filter_max","age_filter_min","photos","map","it","url","PUSH","interests","experiment_info","push","user_interests","selected_interests","instagram","image","console","log","id","_id","distance","distance_mi","toFixed","sNumber","s_number","bio","gender","active","recently_active","birthDate","Date","getFullYear","parseInt","birth_date","substr","OPEN_VIEWER","CLOSE_VIEWER","CHANGE_VIEWER_MODE","RESET_VIEWER","PUSH_LIKE","PUSH_DISLIKE","reducer","handleActions","init","toString","state","action","payload","exists","newItems","filter","indexOf","length","openViewer","closeViewer","changeViewerMode","resetViewer","pushLike","pushDislike","reducers","combineReducers","appReducer","store","createStore","compose","window","__REDUX_DEVTOOLS_EXTENSION__","f","http","axios","create","baseURL","location","hostname","transformRequest","defaults","headers","localStorage","getItem","logout","removeItem","href","Sidebar","useSelector","dispatch","useDispatch","className","to","icon","faGripVertical","faHeart","onClick","e","preventDefault","ZOOM","clsx","zoomActive","faSearchPlus","Viewer","profile","visible","onClose","useState","photoIndex","setPhotoIndex","zoom","setZoom","translate","setTranslate","movePhoto","useRef","initialMouse","x","y","tX","tY","useEffect","resetZoomState","preview","document","querySelector","addEventListener","onScroll","removeEventListener","current","deltaY","p","changePhoto","index","onMouseMove","posX","pageX","posY","pageY","onMouseUp","target","tagName","stopPropagation","faChevronLeft","alt","src","style","transform","onMouseDown","t","faChevronRight","faTimes","bind","Profile","liked","disliked","setVisible","like","a","post","s","status","dislike","Home","loading","loadProfiles","list","scrollHeight","scrollTop","clientHeight","get","then","res","results","result","faCircleNotch","spin","Likes","setLikes","setLoading","loadLikes","Login","inputRef","history","useHistory","doLogin","value","setItem","alert","ref","faArrowRight","Router","pathname","path","component","exact","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.dbed3ab4.chunk.js","sourcesContent":["export enum ViewerMode {\n  VIEW = 'VIEW',\n  ZOOM = 'ZOOM',\n}","import { Action, createActions, handleActions } from \"redux-actions\";\nimport { Profile } from \"../models/dto/profile\";\nimport { Stats } from \"../models/dto/stats\";\nimport { User } from \"../models/dto/user\";\nimport { Viewer } from \"../models/dto/viewer\";\nimport { ViewerMode } from \"../models/enums/viewerMode\";\n\nexport interface AppState {\n  logged: boolean;\n  user: User;\n  profiles: Profile[];\n  stats: Stats;\n  viewer: Viewer;\n  likes: string[];\n  dislikes: string[];\n}\n\nconst initialState: AppState = {\n  logged: false,\n  user: {\n    likesRemaining: 0,\n    ageFilterMax: 0,\n    ageFilterMin: 0,\n    pictures: [],\n    name: '',\n  },\n  profiles: [],\n  stats: {\n    showing: 0,\n    duplicates: 0,\n  },\n  viewer: {\n    open: false,\n    mode: ViewerMode.VIEW,\n  },\n  likes: [],\n  dislikes: [],\n};\n\nexport const appActions = createActions({\n  INIT: (data: any) => ({\n    likesRemaining: data.likes.likes_remaining,\n    ageFilterMax: data.user.age_filter_max,\n    ageFilterMin: data.user.age_filter_min,\n    pictures: data.user.photos.map((it: any) => it.url),\n    name: data.user.name,\n  }),\n  PUSH: (data: any[]) => data.map(it => {\n    const interests = [];\n    const photos = it.user.photos.map((it: any) => it.url);\n\n    if (it.experiment_info) {\n      interests.push(...it.experiment_info.user_interests.selected_interests.map((it: any) => it.name));\n    }\n\n    if (it.instagram && it.instagram.photos) {\n      photos.push(...it.instagram.photos.map((it: any) => it.image));\n    }\n\n    if (it.instagram) {\n      console.log(it.instagram);\n    }\n\n    return {\n      id: it.user._id,\n      distance: (it.distance_mi * 1.609).toFixed(1),\n      sNumber: it.s_number,\n      bio: it.user.bio,\n      gender: it.user.gender,\n      name: it.user.name,\n      active: it.user.recently_active,\n      birthDate: new Date().getFullYear() - parseInt(it.user.birth_date.substr(0, 4), 10),\n      interests,\n      photos,\n    };\n  }),\n  OPEN_VIEWER: () => null,\n  CLOSE_VIEWER: () => null,\n  CHANGE_VIEWER_MODE: (mode: ViewerMode) => mode,\n  RESET_VIEWER: () => null,\n  PUSH_LIKE: (id: string) => id,\n  PUSH_DISLIKE: (id: string) => id,\n});\n\nexport const reducer = handleActions<AppState>(\n  {\n    [appActions.init.toString()]: (state: AppState, action: Action<any>) => ({ ...state, user: action.payload, logged: true }),\n    [appActions.push.toString()]: (state: AppState, action: Action<any>) => {\n      const exists = state.profiles.map(it => it.id);\n      const newItems = action.payload.filter((it: Profile) => exists.indexOf(it.id) === -1);\n\n      return {\n        ...state,\n        profiles: [\n          ...state.profiles,\n          ...newItems,\n        ],\n        stats: {\n          showing: state.profiles.length + newItems.length,\n          duplicates: state.stats.duplicates + (action.payload.length - newItems.length),\n        },\n      };\n    },\n    [appActions.openViewer.toString()]: (state: AppState) => ({ ...state, viewer: { ...state.viewer, open: true } }),\n    [appActions.closeViewer.toString()]: (state: AppState) => ({ ...state, viewer: { open: false, mode: ViewerMode.VIEW } }),\n    [appActions.changeViewerMode.toString()]: (state: AppState, action: Action<any>) => ({ ...state, viewer: { ...state.viewer, mode: action.payload } }),\n    [appActions.resetViewer.toString()]: (state: AppState) => ({ ...state, viewer: { ...state.viewer, mode: ViewerMode.VIEW } }),\n    [appActions.pushLike.toString()]: (state: AppState, action: Action<any>) => ({ ...state, likes: [...state.likes, action.payload] }),\n    [appActions.pushDislike.toString()]: (state: AppState, action: Action<any>) => ({ ...state, dislikes: [...state.dislikes, action.payload] }),\n  },\n  initialState\n);\n","// @ts-nocheck\nimport { combineReducers, compose, createStore, Reducer } from \"redux\";\nimport { AppState, reducer as appReducer } from \"./app.duck\";\n\nexport interface Reducers {\n  appReducer: AppState;\n}\n\nexport const reducers: Reducer<Reducers> = combineReducers({ appReducer });\n\nexport const store = createStore(reducers, {},\n  compose(\n    window.__REDUX_DEVTOOLS_EXTENSION__ ? window.__REDUX_DEVTOOLS_EXTENSION__() : f => f,\n  )\n);","// @ts-nocheck\nimport axios from \"axios\";\n\nexport const http = axios.create({\n  baseURL: `http://${window.location.hostname}:6382`,\n  transformRequest: [\n    ...axios.defaults.transformRequest,\n    (data, headers) => {\n      if (!headers['tash-app-token']) {\n        headers['tash-app-token'] = window.localStorage.getItem('tashAppToken');\n      }\n      return data;\n    },\n  ]\n});\n","export const logout = () => {\n  window.localStorage.removeItem('tashAppToken');\n  window.location.href = '/login';\n};","import { faGripVertical, faHeart, faSearchPlus } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport clsx from 'clsx';\nimport { FC } from \"react\";\nimport { useDispatch, useSelector } from 'react-redux';\nimport { NavLink } from 'react-router-dom';\nimport { Viewer } from '../../../models/dto/viewer';\nimport { ViewerMode } from '../../../models/enums/viewerMode';\nimport { Reducers } from '../../../store';\nimport { appActions } from '../../../store/app.duck';\n\nimport './Sidebar.css';\n\nconst Sidebar: FC = () => {\n  const viewer = useSelector<Reducers, Viewer>(state => state.appReducer.viewer);\n  const dispatch = useDispatch();\n\n  const zoomMode = (e: any) => {\n    e.preventDefault();\n    dispatch(appActions.changeViewerMode(viewer.mode === ViewerMode.ZOOM ? ViewerMode.VIEW : ViewerMode.ZOOM));\n  };\n\n  return (\n    <div className=\"sidebar\">\n      <ul>\n        <li>\n          <NavLink to=\"/home\"><FontAwesomeIcon icon={faGripVertical} /></NavLink>\n        </li>\n        <li>\n          <NavLink to=\"/likes\"><FontAwesomeIcon icon={faHeart} /></NavLink>\n        </li>\n        {viewer.open && (\n          <li>\n            <a href=\"#/\" onClick={zoomMode} className={clsx({ zoomActive: viewer.mode === ViewerMode.ZOOM })}>\n              <FontAwesomeIcon icon={faSearchPlus} />\n            </a>\n          </li>\n        )}\n      </ul>\n    </div>\n  );\n};\n\nexport default Sidebar;","import { faChevronLeft, faChevronRight, faTimes } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport clsx from 'clsx';\nimport React, { FC, useEffect, useRef, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Profile } from '../../../models/dto/profile';\nimport { Viewer as ViewerDTO } from '../../../models/dto/viewer';\nimport { ViewerMode } from '../../../models/enums/viewerMode';\nimport { Reducers } from '../../../store';\nimport { appActions } from '../../../store/app.duck';\nimport './Viewer.css';\n\nexport interface ViewerProps {\n  profile: Profile;\n  visible: boolean;\n  onClose: () => void;\n}\n\nconst Viewer: FC<ViewerProps> = ({ profile, visible, onClose }) => {\n  const viewer = useSelector<Reducers, ViewerDTO>(state => state.appReducer.viewer);\n\n  const [photoIndex, setPhotoIndex] = useState(0);\n  const dispatch = useDispatch();\n\n  const [zoom, setZoom] = useState(1);\n  const [translate, setTranslate] = useState([0, 0]);\n\n  const movePhoto = useRef(false);\n  const initialMouse = useRef({ x: 0, y: 0, tX: 0, tY: 0 });\n\n  useEffect(\n    () => {\n      dispatch(appActions.resetViewer());\n      resetZoomState();\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [photoIndex]\n  );\n\n  useEffect(\n    () => {\n      let preview: HTMLDivElement | null;\n\n      if (viewer.mode === ViewerMode.ZOOM) {\n        if (visible) {\n          preview = document.querySelector<HTMLDivElement>('.viewer .preview');\n          if (preview) {\n            preview.addEventListener('mousewheel', onScroll, false);\n          }\n        }\n      } else if (viewer.mode === ViewerMode.VIEW) {\n        resetZoomState();\n      }\n\n      return () => {\n        if (preview) {\n          preview.removeEventListener('mousewheel', onScroll);\n        }\n      }\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [viewer.mode]\n  );\n\n  const resetZoomState = () => {\n    setZoom(1);\n    setTranslate([0, 0]);\n    movePhoto.current = false;\n    initialMouse.current = { x: 0, y: 0, tX: 0, tY: 0 };\n  };\n\n  const onScroll = (e: any) => {\n    if (e.deltaY > 0) {\n      setZoom(p => p > 1 ? p - 0.1 : p);\n    } else {\n      setZoom(p => p + 0.1);\n    }\n  };\n\n  const changePhoto = (index: number) => setPhotoIndex(index);\n\n  const prev = (e: any) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setPhotoIndex(p => photoIndex === 0 ? profile.photos.length - 1 : p - 1);\n  };\n\n  const next = (e: any) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setPhotoIndex(p => photoIndex === profile.photos.length - 1 ? 0 : p + 1);\n  };\n\n  const photoMouseDown = (e: any) => {\n    e.preventDefault();\n    const preview = document.querySelector('.viewer .preview');\n    if (viewer.mode === ViewerMode.ZOOM && preview) {\n      movePhoto.current = true;\n      setTranslate(t => {\n        initialMouse.current = { x: e.pageX - 70, y: e.pageY, tX: t[0], tY: t[1] };\n        return t;\n      });\n    }\n  };\n\n  const photoMouseMove = (e: any) => {\n    if (movePhoto.current) {    \n      const posX = e.pageX - 70;\n      const posY = e.pageY;\n\n      const x = initialMouse.current.x - posX;\n      const y = initialMouse.current.y - posY;\n\n      const data = [initialMouse.current.tX + x, initialMouse.current.tY + y];\n\n      setTranslate(data);\n    }\n  };\n\n  const photoMouseUp = (e: any) => {\n    e.preventDefault();\n    if (movePhoto.current) {\n      movePhoto.current = false;\n    } else if (e.target.tagName !== 'IMG') {\n      onClose();\n    }\n  };\n\n  return visible ? (\n    <div className=\"viewer\">\n      <div\n        className=\"preview\"\n        onMouseMove={photoMouseMove}\n        onMouseUp={photoMouseUp}\n      >\n        <button className=\"prev\" onMouseUp={prev}>\n          <FontAwesomeIcon icon={faChevronLeft} />\n        </button>\n        <img\n          alt=\"\"\n          src={profile.photos[photoIndex]}\n          style={{ transform: `scale(${zoom}) translate(${translate[0]}px, ${translate[1]}px)` }}\n          onMouseDown={photoMouseDown}\n        />\n        <button className=\"next\" onMouseUp={next}>\n          <FontAwesomeIcon icon={faChevronRight} />\n        </button>\n      </div>\n      <div className=\"info\">\n        <button className=\"close\" onClick={onClose}>\n          <FontAwesomeIcon icon={faTimes} />\n        </button>\n        <h1>{profile.name}, {profile.birthDate}</h1>\n        <span className=\"distance\">{profile.distance} km</span>\n        <p>{profile.bio}</p>\n        <div className=\"gallery\">\n          {profile.photos.map((url, index) => (\n            <img\n              key={url}\n              src={url}\n              alt=\"\"\n              className={clsx({ active: index === photoIndex })}\n              onClick={changePhoto.bind(null, index)}\n            />\n          ))}\n        </div>\n      </div>\n    </div>\n  ) : null;\n};\n\nexport default Viewer;","import { faHeart, faTimes } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { FC, useState } from \"react\";\nimport { useDispatch } from 'react-redux';\nimport { Profile as ProfileDTO } from \"../../../models/dto/profile\";\nimport { http } from '../../../service/http.service';\nimport { appActions } from '../../../store/app.duck';\nimport { logout } from '../../../utils/login.util';\nimport Viewer from '../viewer/Viewer';\n\nimport './Profile.css';\n\ninterface ProfileProps {\n  profile: ProfileDTO;\n  liked: boolean;\n  disliked: boolean;\n}\n\nconst Profile: FC<ProfileProps> = ({ profile, liked, disliked }) => {\n  const dispatch = useDispatch();\n\n  const [visible, setVisible] = useState(false);\n\n  const open = () => {\n    setVisible(true);\n    dispatch(appActions.openViewer());\n  };\n\n  const close = () => {\n    setVisible(false);\n    dispatch(appActions.closeViewer());\n  };\n\n  const like = async (e: any) => {\n    e.stopPropagation();\n    try {\n      const result = await http.post('/like', { id: profile.id, s: profile.sNumber });\n      if (result.status === 200) {\n        dispatch(appActions.pushLike(profile.id));\n      }\n    } catch (e) {\n      logout();\n    }\n  };\n\n  const dislike = async (e: any) => {\n    e.stopPropagation();\n    try {\n      const result = await http.post('/dislike', { id: profile.id, s: profile.sNumber });\n      if (result.status === 200) {\n        dispatch(appActions.pushDislike(profile.id));\n      }\n    } catch (e) {\n      logout();\n    }\n  };\n\n  return (\n    <>\n      <div className=\"profile\" onClick={open}>\n        <img src={profile.photos[0]} alt=\"\" />\n        <div className=\"info\">\n          <h2>{profile.name}, {profile.birthDate}</h2>\n          <div className=\"actions\">\n            {!liked && (\n              <button className=\"dislike\" onClick={dislike}>\n                <FontAwesomeIcon icon={faTimes} />\n              </button>\n            )}\n            {!disliked && (\n              <button className=\"like\" onClick={like}>\n                <FontAwesomeIcon icon={faHeart} />\n              </button>\n            )}\n          </div>\n        </div>\n      </div>\n      <Viewer profile={profile} visible={visible} onClose={close} />\n    </>\n  );\n};\n\nexport default Profile;","import { faCircleNotch } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { FC, useEffect, useRef } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { http } from \"../../../service/http.service\";\nimport { Reducers } from \"../../../store\";\nimport { appActions, AppState } from \"../../../store/app.duck\";\nimport { logout } from '../../../utils/login.util';\nimport { default as ProfileView } from \"../../components/profile/Profile\";\n\nimport './Home.css';\n\nconst Home: FC = () => {\n  const { profiles, likes, dislikes } = useSelector<Reducers, AppState>(state => state.appReducer);\n  const dispatch = useDispatch();\n\n  const loading = useRef(true);\n\n  useEffect(\n    () => {\n      loadProfiles();\n\n      const list = document.querySelector<HTMLDivElement>('.profiles');\n\n      if (list){\n        list.addEventListener('scroll', onScroll, false);\n      }\n\n      return () => {\n        if (list) {\n          list.removeEventListener('scroll', onScroll);\n        }\n      };\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    []\n  );\n\n  const onScroll = (e: any) => {\n    if (!loading.current && (e.target.scrollHeight - e.target.scrollTop) < (e.target.clientHeight + 40)) {\n      loadProfiles();\n    }\n  };\n\n  const loadProfiles = async () => {\n    try {\n      loading.current = true;\n      const result = await http.get('/profiles').then(res => res.data.results);\n      dispatch(appActions.push(result));\n    } catch (e) {\n      logout();\n    }\n    loading.current = false;\n  };\n\n  const isLoading = () => loading.current;\n\n  return (\n    <div className=\"profiles\">\n      {profiles.map(it => (\n        <ProfileView\n          key={it.id}\n          profile={it}\n          liked={likes.indexOf(it.id) !== -1}\n          disliked={dislikes.indexOf(it.id) !== -1}\n        />\n      ))}\n      {isLoading() && (<div className=\"loading\"><FontAwesomeIcon icon={faCircleNotch} spin={true} /></div>)}\n    </div>\n  );\n};\n\nexport default Home;","import { faCircleNotch } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport React, { FC, useEffect, useState } from 'react';\nimport { http } from '../../../service/http.service';\nimport { logout } from '../../../utils/login.util';\n\nimport './Likes.css';\n\nconst Likes: FC = () => {\n  const [likes, setLikes] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(\n    () => {\n      loadLikes();\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    []\n  );\n\n  const loadLikes = async () => {\n    try {\n      setLoading(true);\n      const result = await http.get('/likes').then(res => res.data.results);\n      setLikes(result.map((it: any) => it.user.photos[0].url));\n    } catch (e) {\n      logout();\n    }\n    setLoading(false);\n  };\n\n  return (\n    <div className=\"likes\">\n      {likes.map(url => (\n        <div className=\"like\" key={url}>\n          <img src={url} alt=\"\" />\n        </div>\n      ))}\n      {loading && (<div className=\"loading\"><FontAwesomeIcon icon={faCircleNotch} spin={true} /></div>)}\n    </div>\n  );\n};\n\nexport default Likes;","import { faArrowRight } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport React, { FC, useRef } from \"react\";\nimport { useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router';\nimport { http } from '../../../service/http.service';\nimport { appActions } from '../../../store/app.duck';\n\nimport './Login.css';\n\nconst Login: FC = () => {\n  const inputRef = useRef<HTMLInputElement>(null);\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  const doLogin = async () => {\n    if (inputRef.current && inputRef.current.value) {\n      try {\n        const result = await http.get('/me', {\n          headers: { 'tash-app-token': inputRef.current.value }\n        });\n        window.localStorage.setItem('tashAppToken', inputRef.current.value);\n        dispatch(appActions.init(result.data));\n        history.push('/home');\n      } catch (e) {\n        alert('Invalid');\n      }\n    }\n  };\n\n  return (\n    <div className=\"login-page\">\n      <div className=\"box\">\n        <h1>TASH</h1>\n        <div className=\"auth\">\n          <input ref={inputRef} name=\"token\" />\n          <button onClick={doLogin}>\n            <FontAwesomeIcon icon={faArrowRight} />\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;","import { FC, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Route, Switch, useHistory } from \"react-router-dom\";\nimport { http } from \"./service/http.service\";\nimport { Reducers } from \"./store\";\nimport { appActions } from \"./store/app.duck\";\nimport { logout } from \"./utils/login.util\";\nimport Sidebar from \"./views/components/sidebar/Sidebar\";\nimport Home from \"./views/pages/home/Home\";\nimport Likes from \"./views/pages/likes/Likes\";\nimport Login from \"./views/pages/login/Login\";\n\nconst Router: FC = () => {\n  const logged = useSelector<Reducers, boolean>(state => state.appReducer.logged);\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  useEffect(\n    () => {\n      init();\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    []\n  );\n\n  const init = async () => {\n    if (window.localStorage.getItem('tashAppToken')) {\n      try {\n        const result = await http.get('/me');\n        dispatch(appActions.init(result.data));\n\n        if (history.location.pathname === '/') {\n          history.push('/home');\n        }\n      } catch (e) {\n        logout();\n      }\n    } else {\n      history.push('/login');\n    }\n  };\n\n  return (\n    <>\n      {logged && <Sidebar />}\n      <div className=\"page\">\n        <Switch>\n          <Route path=\"/login\" component={Login} exact={true} />\n          <Route path=\"/home\" component={Home} exact={true} />\n          <Route path=\"/likes\" component={Likes} exact={true} />\n        </Switch>\n      </div>\n    </>\n  );\n};\n\nexport default Router;","import React, { FC } from 'react';\nimport { Provider } from 'react-redux';\nimport { store } from './store';\nimport Router from './Router';\nimport { BrowserRouter } from 'react-router-dom';\n\nimport './App.css';\n\nconst App: FC = () => {\n  return (\n    <div className=\"tash-app\">\n      <Provider store={store}>\n        <BrowserRouter>\n          <Router />\n        </BrowserRouter>\n      </Provider>\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}